<a id = "jump">[首页](/README.md)</a>



# CAP

![](/img/CAP.jpg)

一个分布式系统最多只能同时满足一致性（Consistency）、可用性（Availability）和分区容错性（Partition tolerance）这三项中的两项。

## Consistency 一致性
所有节点在同一时间的数据完全一致。
对于一致性，可以分为从客户端和服务端两个不同的视角。

* 客户端
从客户端来看，一致性主要指的是多并发访问时更新过的数据如何获取的问题。

* 服务端
从服务端来看，则是更新如何分布到整个系统，以保证数据最终一致。


对于一致性，可以分为强/弱/最终一致性三类

从客户端角度，多进程并发访问时，更新过的数据在不同进程如何获取的不同策略，决定了不同的一致性。

* 强一致性
对于关系型数据库，要求更新过的数据能被后续的访问都能看到，这是强一致性。

* 弱一致性
如果能容忍后续的部分或者全部访问不到，则是弱一致性。

* 最终一致性
如果经过一段时间后要求能访问到更新后的数据，则是最终一致性。

## Availability 可用性

好的可用性主要是指系统能够很好的为用户服务，不出现用户操作失败或者访问超时等用户体验不好的情况。可用性通常情况下可用性和分布式数据冗余，负载均衡等有着很大的关联。

## Partition Tolerance分区容错性

分布式系统在遇到某节点或网络分区故障的时候，仍然能够对外提供满足一致性或可用性的服务。

参考 1 : [谈谈分布式系统的CAP理论](https://zhuanlan.zhihu.com/p/33999708)

参考 2 : [CAP 定理的含义(例子)](http://www.ruanyifeng.com/blog/2018/07/cap.html)

[toTop](#jump)